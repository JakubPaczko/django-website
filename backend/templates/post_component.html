{% load static %}

<div id = "post" style="overflow: hidden;" class="post hidden">
    {% if post.community.icon %}
        <a href="{% url 'community' post.community.id %}">
            <img class="icon" src="{{ post.community.icon.url }}" height="32px" style="float: left; border-radius: 50%; margin-right: 10px; margin-bottom: 10px;">
        </a>
    {% else %}
        <img src="purpledidlogo.png" height="32px" style="float: left; border-radius: 50%; margin-right: 10px; margin-bottom: 10px;">
    {% endif %}

    <div class="float_left"> {{ post.community.name }} </div>
    <div style = "float: right; color: gray;"> {{post.pub_date}} </div>
    <h2 style="margin-top: 10px; clear: both">{{post.title}} </h2>
    {% if post.author %}
        <a href="{% url "user_profile" post.author.id %}"> 
            <h5 style="margin-top: 0; color: gray;"> user: &nbsp; {{post.author}} </h5> 
        </a>
    {% else %}
        <h5 style="margin-top: 0; color: gray;"> user: &nbsp; [deleted] </h5>
    {% endif %}
    
    <div>
        <div>
        {{post.content}}
        </div>
        {% if  post.image %}
        <img src="{{ post.image.url }}" >
        {% endif %}
    </div>

    <a href="{% url 'like_post' post.id %}">
        <div style="margin-top: 25px; float: left;  margin-right: 10px; padding: 5px 10px;" class="button"> 
            {% comment %} <img src="{% static 'images/plusicon.png' %}" height="100%" style="float: left; border-radius: 50%; margin-right: 10px;"> {% endcomment %}
            <div style="float: left; margin-top: 5px;"> + {{ post.get_like_count }} </div>
        </div>
    </a>

    <a href="{% url 'post' post.id %}">
        <div style="margin-top: 25px; float: left; margin-right: 10px; padding: 5px 10px;" class="button"> 
        <img src="{% static "images/commenticon.png" %}" height="100%" style="float: left; border-radius: 50%; margin-right: 10px;">
        <div style="float: left; margin-top: 5px;"> {{ post.get_comment_count }} </div>
        </div>
    </a>
</div>